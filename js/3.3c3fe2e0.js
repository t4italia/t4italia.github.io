(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"28a2":function(t,e,s){"use strict";s("fb7b")},5207:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"bg-grey-3"},[s("div",{staticClass:"row full-width"},t._l(t.productsFiltered,(function(t){return s("div",{key:t.id,staticClass:"q-pa-md col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},[s("Product",{attrs:{product:t}})],1)})),0)])},n=[],o=s("ded3"),r=s.n(o),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-card",{attrs:{flat:"",bordered:""}},[s("q-img",{staticStyle:{height:"200px"},attrs:{contain:"","spinner-color":"secondary",src:t.product.image},on:{click:function(e){t.expanded=!t.expanded}}}),s("q-card-section",[s("div",{staticClass:"row items-center justify-between"},[s("div",{staticClass:"col text-overline text-orange-9 acapo"},[t._v("\n          "+t._s(t.product.code)+"\n        ")]),s("q-btn",{attrs:{disable:"",color:"warning",unelevated:"",dense:"",label:t.product.category.name}})],1),s("div",{staticClass:"text-h5 q-mt-sm q-mb-xs acapo"},[t._v("\n        "+t._s(t.product.name)+"\n      ")]),s("div",{staticClass:"text-caption text-grey"},[t._v("\n        "+t._s(t._f("currency")(t.product.price))+" IVA Esclusa\n      ")]),s("div",{staticClass:"text-caption text-grey"},[t._v("\n        "+t._s(t._f("currency")(1.22*t.product.price))+" IVA Inclusa\n      ")])]),s("q-card-actions",{staticClass:"row justify-between"},[s("q-btn",{attrs:{color:"grey",round:"",flat:"",label:"info",dense:"",icon:t.expanded?"keyboard_arrow_up":"keyboard_arrow_down"},on:{click:function(e){t.expanded=!t.expanded}}}),s("q-btn",{attrs:{"no-caps":"",size:"lg",color:"secondary",label:"Prenota",dense:""},on:{click:function(e){t.isDialogOpen=!0}}})],1),s("q-slide-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}]},[s("q-separator"),s("div",{staticClass:"text-subitle2 acapo q-pa-md"},[t._v("\n          "+t._s(t.product.description)+"\n        ")])],1)])],1),s("q-dialog",{model:{value:t.isDialogOpen,callback:function(e){t.isDialogOpen=e},expression:"isDialogOpen"}},[s("q-card",{staticClass:"q-pa-md"},[s("q-card-section",[s("span",{staticClass:"text-h6"},[t._v("Prenotazione ART. "),s("span",{staticClass:"text-weight-light text-subtitle1"},[t._v(t._s(t.product.code))])])]),s("q-card-section",[s("q-form",{on:{submit:t.onSubmit}},[s("q-input",{attrs:{dense:"",label:"Nome / Ragione Sociale","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Error"}]},model:{value:t.customerName,callback:function(e){t.customerName=e},expression:"customerName"}}),s("q-input",{attrs:{dense:"",label:"Telefono","lazy-rules":"",rules:[function(t){return t&&t.length>5&&!isNaN(t)||"Error"}]},model:{value:t.customerPhone,callback:function(e){t.customerPhone=e},expression:"customerPhone"}}),s("q-input",{attrs:{dense:"",label:"Email",type:"email","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Error"}]},model:{value:t.customerEmail,callback:function(e){t.customerEmail=e},expression:"customerEmail"}}),s("q-input",{attrs:{dense:"",label:"QuantitÃ ","lazy-rules":"",rules:[function(t){return t&&parseInt(t)>0&&t.length>0&&!isNaN(t)||"Error"}]},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}}),s("div",{staticClass:"q-gutter-md q-my-md"},[s("div",[t._v("\n              Prezzo Unitario\n              "),s("span",{staticClass:"row text-positive text-bold"},[t._v(t._s(t._f("currency")(t.product.price))+" IVA Esclusa")]),s("span",{staticClass:"row text-positive text-bold"},[t._v(t._s(t._f("currency")(1.22*t.product.price))+" IVA Inclusa")])]),t.quantity>1?s("div",[t._v("\n              Prezzo Totale\n              "),s("span",{staticClass:"row text-positive text-bold"},[t._v(t._s(t._f("currency")(t.quantity*t.product.price))+" IVA Esclusa")]),s("span",{staticClass:"row text-positive text-bold"},[t._v(t._s(t._f("currency")(t.quantity*t.product.price*1.22))+" IVA Inclusa")])]):t._e()]),s("div",{staticClass:"row justify-between"},[s("q-btn",{attrs:{disable:t.pending,label:"Invia Prenotazione",type:"submit",color:"primary"}}),t.pending?s("q-spinner-oval",{attrs:{size:"lg",color:"positive"}}):t._e()],1)],1)],1)],1)],1)],1)},c=[],l=(s("a79d"),s("e6cf"),s("2f62")),u={name:"Product",props:{product:{type:Object,default:Object}},data(){return{quantity:null,pending:!1,expanded:!1,isDialogOpen:!1}},computed:{customerName:{get(){return this.$store.state.customerName},set(t){this.$store.commit("updateCustomerName",t)}},customerPhone:{get(){return this.$store.state.customerPhone},set(t){this.$store.commit("updateCustomerPhone",t)}},customerEmail:{get(){return this.$store.state.customerEmail},set(t){this.$store.commit("updateCustomerEmail",t)}}},methods:r()(r()({},Object(l["b"])(["postOrder"])),{},{onSubmit(){const t={};t.product_code=this.product.code,t.product_price=this.product.price,t.product_name=this.product.name,t.name=this.customerName,t.phone=this.customerPhone,t.email=this.customerEmail,t.quantity=this.quantity,this.pending=!0,this.postOrder(t).then((()=>{this.$q.notify({message:"Prenotazione Inviata!",color:"positive"}),this.isDialogOpen=!1,this.quantity=null})).catch((t=>{this.$q.notify({message:"Errore!",color:"negative"})})).finally((()=>this.pending=!1))}})},d=u,p=(s("28a2"),s("2877")),m=s("f09f"),b=s("068f"),h=s("a370"),v=s("9c40"),f=s("4b7e"),g=s("e9c1"),y=s("eb85"),_=s("24e8"),q=s("0378"),x=s("27f9"),w=s("1b41"),C=s("eebe"),E=s.n(C),P=Object(p["a"])(d,i,c,!1,null,"4508b64a",null),O=P.exports;E()(P,"components",{QCard:m["a"],QImg:b["a"],QCardSection:h["a"],QBtn:v["a"],QCardActions:f["a"],QSlideTransition:g["a"],QSeparator:y["a"],QDialog:_["a"],QForm:q["a"],QInput:x["a"],QSpinnerOval:w["a"]});var I={name:"ProductSet",components:{Product:O},computed:r()(r()({},Object(l["c"])(["products","categorySelected"])),{},{productsFiltered(){return this.products[this.categorySelected]}}),created(){this.categorySelected||this.$router.push("/")}},k=I,z=s("9989"),N=Object(p["a"])(k,a,n,!1,null,null,null);e["default"]=N.exports;E()(N,"components",{QPage:z["a"]})},fb7b:function(t,e,s){}}]);