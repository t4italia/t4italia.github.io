(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{5207:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"bg-grey-3"},[a("div",{staticClass:"row full-width"},t._l(t.productsFiltered,(function(t){return a("div",{key:t.id,staticClass:"q-pa-md col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},[a("Product",{attrs:{product:t}})],1)})),0)])},n=[],o=a("ded3"),r=a.n(o),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-card",{attrs:{flat:"",bordered:""}},[a("q-img",{staticStyle:{height:"200px"},attrs:{contain:"","spinner-color":"secondary",src:t.product.image},on:{click:function(e){t.expanded=!t.expanded}}}),a("q-card-section",[a("div",{staticClass:"row items-center justify-between"},[a("div",{staticClass:"col text-overline text-orange-9 acapo"},[t._v("\n          "+t._s(t.product.code)+"\n        ")]),a("q-btn",{attrs:{disable:"",color:"warning",unelevated:"",dense:"",label:t.product.category.name}})],1),a("div",{staticClass:"text-h5 q-mt-sm q-mb-xs acapo"},[t._v("\n        "+t._s(t.product.name)+"\n      ")]),a("div",{staticClass:"text-caption text-grey"},[t._v("\n        "+t._s(t._f("currency")(t.product.price))+" IVA Esclusa\n      ")]),a("div",{staticClass:"text-caption text-grey"},[t._v("\n        "+t._s(t._f("currency")(1.22*t.product.price))+" IVA Inclusa\n      ")])]),a("q-card-actions",{staticClass:"row justify-between"},[a("q-btn",{attrs:{color:"grey",round:"",flat:"",label:"info",dense:"",icon:t.expanded?"keyboard_arrow_up":"keyboard_arrow_down"},on:{click:function(e){t.expanded=!t.expanded}}}),a("q-btn",{attrs:{"no-caps":"",size:"lg",color:"secondary",label:"Prenota",dense:""},on:{click:function(e){t.isDialogOpen=!0}}})],1),a("q-slide-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}]},[a("q-separator"),a("div",{staticClass:"text-subitle2 acapo q-pa-md"},[t._v("\n          "+t._s(t.product.description)+"\n        ")])],1)])],1),a("q-dialog",{model:{value:t.isDialogOpen,callback:function(e){t.isDialogOpen=e},expression:"isDialogOpen"}},[a("q-card",{staticClass:"q-pa-md"},[a("q-card-section",[a("span",{staticClass:"text-h6"},[t._v("Prenotazione ART. "),a("span",{staticClass:"text-weight-light text-subtitle1"},[t._v(t._s(t.product.code))])])]),a("q-card-section",[a("q-form",{on:{submit:t.onSubmit}},[a("q-input",{attrs:{dense:"",label:"Nome / Ragione Sociale","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Error"}]},model:{value:t.customerName,callback:function(e){t.customerName=e},expression:"customerName"}}),a("q-input",{attrs:{dense:"",label:"Telefono","lazy-rules":"",rules:[function(t){return t&&t.length>5&&!isNaN(t)||"Error"}]},model:{value:t.customerPhone,callback:function(e){t.customerPhone=e},expression:"customerPhone"}}),a("q-input",{attrs:{dense:"",label:"Email",type:"email","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Error"}]},model:{value:t.customerEmail,callback:function(e){t.customerEmail=e},expression:"customerEmail"}}),a("q-input",{attrs:{dense:"",label:"QuantitÃ ","lazy-rules":"",rules:[function(t){return t&&parseInt(t)>0&&t.length>0&&!isNaN(t)||"Error"}]},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}}),t.noteOpen?t._e():a("q-btn",{attrs:{"no-caps":"",dense:"",color:"warning",unelevated:"",label:"Aggiungi Nota"},on:{click:function(e){t.noteOpen=!0}}}),t.noteOpen?a("q-input",{attrs:{dense:"",type:"textarea",label:"Nota","lazy-rules":""},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}}):t._e(),a("div",{staticClass:"q-gutter-md q-my-md"},[a("div",[t._v("\n              Prezzo Unitario\n              "),a("span",{staticClass:"row text-positive text-bold"},[t._v(t._s(t._f("currency")(t.product.price))+" IVA Esclusa")]),a("span",{staticClass:"row text-positive text-bold"},[t._v(t._s(t._f("currency")(1.22*t.product.price))+" IVA Inclusa")])]),t.quantity>1?a("div",[t._v("\n              Prezzo Totale\n              "),a("span",{staticClass:"row text-positive text-bold"},[t._v(t._s(t._f("currency")(t.quantity*t.product.price))+" IVA Esclusa")]),a("span",{staticClass:"row text-positive text-bold"},[t._v(t._s(t._f("currency")(t.quantity*t.product.price*1.22))+" IVA Inclusa")])]):t._e()]),a("div",{staticClass:"row justify-between"},[a("q-btn",{attrs:{disable:t.pending,label:"Invia Prenotazione",type:"submit",color:"primary"}}),t.pending?a("q-spinner-oval",{attrs:{size:"lg",color:"positive"}}):t._e()],1)],1)],1)],1)],1)],1)},c=[],l=(a("a79d"),a("e6cf"),a("2f62")),u={name:"Product",props:{product:{type:Object,default:Object}},data(){return{note:"",noteOpen:!1,quantity:null,pending:!1,expanded:!1,isDialogOpen:!1}},computed:{customerName:{get(){return this.$store.state.customerName},set(t){this.$store.commit("updateCustomerName",t)}},customerPhone:{get(){return this.$store.state.customerPhone},set(t){this.$store.commit("updateCustomerPhone",t)}},customerEmail:{get(){return this.$store.state.customerEmail},set(t){this.$store.commit("updateCustomerEmail",t)}}},methods:r()(r()({},Object(l["b"])(["postOrder"])),{},{onSubmit(){const t={};t.product_code=this.product.code,t.product_price=this.product.price,t.product_name=this.product.name,t.name=this.customerName,t.phone=this.customerPhone,t.email=this.customerEmail,t.quantity=this.quantity,t.note=this.note,this.pending=!0,this.postOrder(t).then((()=>{this.$q.notify({message:"Prenotazione Inviata!",color:"positive"}),this.isDialogOpen=!1,this.quantity=null})).catch((t=>{this.$q.notify({message:"Errore!",color:"negative"})})).finally((()=>this.pending=!1))}})},d=u,p=(a("7a93"),a("2877")),m=a("f09f"),b=a("068f"),v=a("a370"),h=a("9c40"),g=a("4b7e"),f=a("e9c1"),y=a("eb85"),_=a("24e8"),q=a("0378"),x=a("27f9"),w=a("1b41"),C=a("eebe"),O=a.n(C),E=Object(p["a"])(d,i,c,!1,null,"2445669b",null),P=E.exports;O()(E,"components",{QCard:m["a"],QImg:b["a"],QCardSection:v["a"],QBtn:h["a"],QCardActions:g["a"],QSlideTransition:f["a"],QSeparator:y["a"],QDialog:_["a"],QForm:q["a"],QInput:x["a"],QSpinnerOval:w["a"]});var k={name:"ProductSet",components:{Product:P},computed:r()(r()({},Object(l["c"])(["products","categorySelected"])),{},{productsFiltered(){return this.products[this.categorySelected]}}),created(){this.categorySelected||this.$router.push("/")}},N=k,z=a("9989"),I=Object(p["a"])(N,s,n,!1,null,null,null);e["default"]=I.exports;O()(I,"components",{QPage:z["a"]})},"7a93":function(t,e,a){"use strict";a("99fa")},"99fa":function(t,e,a){}}]);